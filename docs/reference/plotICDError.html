<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot for error ICD list — plotICDError • dxpr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot for error ICD list — plotICDError"><meta property="og:description" content="Pareto chart of error ICD list"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dxpr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/DHLab-TSENG/dxpr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot for error ICD list</h1>
    <small class="dont-index">Source: <a href="https://github.com/DHLab-TSENG/dxpr/blob/HEAD/R/fun_emr.R" class="external-link"><code>R/fun_emr.R</code></a>, <a href="https://github.com/DHLab-TSENG/dxpr/blob/HEAD/R/plotICDError.R" class="external-link"><code>R/plotICDError.R</code></a></small>
    <div class="hidden name"><code>plotICDError.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Pareto chart of error ICD list</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">plotICDError</span><span class="op">(</span>
  <span class="va">errorFile</span>,
  icdVersion <span class="op">=</span> <span class="va">all</span>,
  wrongICDType <span class="op">=</span> <span class="va">all</span>,
  groupICD <span class="op">=</span> <span class="cn">FALSE</span>,
  others <span class="op">=</span> <span class="cn">TRUE</span>,
  topN <span class="op">=</span> <span class="fl">10</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>errorFile</dt>
<dd><p>Error file (a data frame) from ICD uniform functions <code>dxUniform</code> (icdDxDecimalToShort or icdDxShortToDecimal)</p></dd>
<dt>wrongICDType</dt>
<dd><p>Certain wrong type that interested. The value can either version, format, or all, and this argument is the also string data type without quotation mark.</p></dd>
<dt>groupICD</dt>
<dd><p>Binary data type. Only ICD-9 codes can group because ICD 10 already has unique alphanumeric codes to identify known diseases. Default is FALSE.</p></dd>
<dt>others</dt>
<dd><p>Default is TRUE</p></dd>
<dt>topN</dt>
<dd><p>Numeric argument. Default is 10 (Top 10; 10 most common wrong ICD).</p></dd>
<dt>ICDVersion</dt>
<dd><p>Certain version that interested. The argument should be string data type: 9, 10 or all (without quotation mark).</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A Pareto plot and a <code>data.table</code> of statistical information about error codes.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Through first phase function, code standardization, it detects diagnosis codes with potential error.
The Pareto chart includes bar plot and line chart to visualize individual possible error ICD codes represented in descending order and cumulative total.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>other plot function: <code><a href="plotDiagCat.html">plotDiagCat</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># sample file for example</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sampleDxFile</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ID  ICD       Date Version</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  A2 Z992 2020-05-22      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  A5 Z992 2020-01-24      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  A8 Z992 2015-10-27      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: A13 Z992 2020-04-26      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: A13 Z992 2025-02-02      10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6: A15 Z992 2023-05-12      10</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Data of diagnosis codes with potential error</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">error</span> <span class="op">&lt;-</span> <span class="fu"><a href="dxUniform.html">icdDxDecimalToShort</a></span><span class="op">(</span><span class="va">sampleDxFile</span>, <span class="va">ICD</span>, <span class="va">Date</span>, icdVerColName <span class="op">=</span> <span class="cn">NULL</span>, <span class="st">"2015/10/01"</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Wrong ICD format: total 9 ICD codes (the number of occurrences is in brackets)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> c("A0.11 (20)", "E114 (8)", "Z9.90 (6)", "F42 (6)", "001 (5)", "75.52 (4)", "755.2 (3)", "123.45 (3)", "7552 (2)")</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Wrong ICD version: total 7 ICD codes (the number of occurrences is in brackets)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> c("V27.0 (18)", "A01.05 (8)", "42761 (7)", "V24.1 (6)", "A0105 (5)", "E03.0 (4)", "650 (4)")</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 	</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The ICD mentioned above matches to "NA" due to the format or other issues.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>"Wrong ICD format" means the ICD has wrong format</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>"Wrong ICD version" means the ICD classify to wrong ICD version (cause the "icd10usingDate" or other issues)</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Plot of top 3 common error ICD-9 codes and a list of the detail of error ICD codes</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">plotICDError</span><span class="op">(</span>errorFile <span class="op">=</span> <span class="va">error</span><span class="op">$</span><span class="va">Error</span>,</span>
<span class="r-in">              icdVersion <span class="op">=</span> <span class="fl">9</span>,</span>
<span class="r-in">              wrongICDType <span class="op">=</span> <span class="va">all</span>,</span>
<span class="r-in">              groupICD <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">              others <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">              topN <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; = "none")` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $graph</span>
<span class="r-plt img"><img src="plotICDError-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ICD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ICDGroup groupCount CumCountPerc MostICDInGroup ICDPercInGroup     WrongType</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:        A         13       41.94%         A01.05         61.54% Wrong version</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:        7          9       70.97%          75.52         44.44%  Wrong format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:        0          5        87.1%            001           100%  Wrong format</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:   others          4         100%          E03.0           100% Wrong version</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Plot of top 10 common error ICD codes and a list of the detail of error ICD codes</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu">plotICDError</span><span class="op">(</span>errorFile <span class="op">=</span> <span class="va">error</span><span class="op">$</span><span class="va">Error</span>,</span>
<span class="r-in">              icdVersion <span class="op">=</span> <span class="va">all</span>,</span>
<span class="r-in">              wrongICDType <span class="op">=</span> <span class="va">all</span>,</span>
<span class="r-in">              groupICD <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span class="r-in">              others <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>`guides(&lt;scale&gt; = FALSE)` is deprecated. Please use `guides(&lt;scale&gt; = "none")` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $graph</span>
<span class="r-plt img"><img src="plotICDError-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $ICD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        ICD count CumCountPerc IcdVersionInFile     WrongType Suggestion</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:  A0.11    20       18.35%           ICD 10  Wrong format           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:  V27.0    18       34.86%           ICD 10 Wrong version           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:   E114     8        42.2%           ICD 10  Wrong format           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4: A01.05     8       49.54%            ICD 9 Wrong version           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:  42761     7       55.96%           ICD 10 Wrong version           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:  Z9.90     6       61.47%           ICD 10  Wrong format           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:    F42     6       66.97%           ICD 10  Wrong format           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:  V24.1     6       72.48%           ICD 10 Wrong version           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:  A0105     5       77.06%            ICD 9 Wrong version           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:    001     5       81.65%            ICD 9  Wrong format       0019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11: others    20         100%            ICD 9  Wrong format           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Hsiang-Ju Chiu, Yi-Ju Tseng, Chun-Ju Chen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

